# Wirteup and Reflection Nian liu & Haoyue Ma

## Project Overview

In this project, we chose to access texts from Project Gutenberg. We selected two books Wuthering Height and Jane Eyre. In order to analyze the texts, we went through four steps: pickling text files, characterizing word frequencies, doing natural language processing using sentiment analysis, and computing text similarity and clustering. Through the project, we hope to learn how to directly harvest data from online sources, store and clean up the data, and conduct computational analysis using python.

---

## Implementation

At the beginning, we focused on Wuthering Height and Jane Eyre. We implemented the project first by downloading the texts with url. Instead of using the API, we chose to store the texts we collected from Gutenberg into a pickle. We made this decision because we would be able to load back the texts at a later time which is convenient.  We process the text by skipping the header and the end of the texts, excluding the punctuation and whitespace and computing a histogram that shows a map from each word to the number of times it appears. Then we made a list of words and frequencies in descending order. In this step we excluded words from the nltk stop words list because it contains the most common stop words. However, when we explored the output we found that there are several words that are not in the stop words list but should still be excluded. For instance, the name of the characters and words like “could”, “said”, etx. However, we were not sure about what other words should be excluded, we picked a few words and added them to the code. Lastly, we printed out the lists for the top 100 most frequent words in each text.

After analyzing the frequency of words in the two texts, we conducted the sentiment analysis with the sentiment analyzer in nltk. With the analysis we got the score for the natural feelings towards the words used in Wuthering Height and Jane Eyre. Afterwards, we picked three more books from the Bronte sisters because we would like to see if they write in a similar way. We found it was hard to refer back to the texts that we have already processed in the previous file, we decided to  process all of the five texts again by breaking them into words and reducing words into root form with tokenize and stem functions. In addition, we normalized the texts through removing punctuation and changing the letters to lowercase. After vectorizing the texts, we computed the cosine similarity among all of the texts. We then gathered an array containing all the similarities among the books and used to array to compute clustering. 

---
## Results

According to the results from most common words, we would have a basic sense of what are the key characters in the novel. Unsurprisingly, the name of the protagonist ‘Heathcliff’  is the most frequent word in Wuthering Heights. The name of the co-star also pops up: ‘Catherine’. It’s quite interesting to see the word ‘Linton’ (the two protagonists passionately love each other, but Catherine is seduced by the elegant manners of the Lintons and decides to marry Edgar; Catherine and Heathcliff’s son is also called Linton). ‘Master’ is another common word which reveals the relationship between the two main characters.
![app1](https://user-images.githubusercontent.com/77707333/111540351-6e6c0c00-8745-11eb-9d51-17c98d04d6d9.JPG)

Surprisingly, based on the output of the sentiment analysis, the overall sentiment of the sentences is neutral for both books.However, the theme of Wuthering Heights and Jane Eyre attempts to be sad or angry which should indicate a relatively higher negative score from sentiment analysis. We guess this could be caused by the reason that the nltk sentiment analysis fits better for short reviews. When we apply it to long texts it might not be so accurate. 
![app2](https://user-images.githubusercontent.com/77707333/111540447-8ba0da80-8745-11eb-99cd-bbb128eecd7f.JPG)

By computing pairwise similatity and clustering words from different texts written by either the same author or the authors’ sister, Anne Bronte, we are able to speculate the difference and similarity of the writing style of Bronte sisters. We accessed texts from Project Gutenberg and we chose four other books which are Agnes Grey by Anne Bronte, Villette by Charlotte Bronte and The Tenant of Wildfell Hall by Anne Bronte. From the graph of clustering, the result actually surprised us that Wuthering Height by Emily is very different from other sisters’ books as on the graph that the point representing Wuthering Height is very far away from the cluster. After researching this book, we concluded that Wuthering Height has a very passionate, captivating style which is very different from other books which makes this book Emily’s  only one novel, but worth hundreds of works created by dozens of other authors. “you will fail to find a book that would be equal to this masterpiece, taking into consideration its characters, language, and the whole storyline”(Bronte Sisters and Their Iconic Writing Style).  The graph also shows that Jane Eyre, Villette and The Tenant of Wildfell Hall are relatively more common which can be explained that Jane Eyre and Villete are written by the same author. 
![app3](https://user-images.githubusercontent.com/77707333/111540601-b68b2e80-8745-11eb-8ac8-b5a24c296206.JPG)

---
## Reflection
Throughout the process of doing the assignment, data selecting and identifying the problems we would like to explore went fast and smoothly. In addition, the unit testing part went well because we were able to apply the things we learnt from class to the assignment. On the other hand, we encountered several problems during the process. The biggest difficulty we faced was self-learning cosine similarity and clustering code. We had no experience on these two parts so we tried our best to learn the algorithm and code from the website as well as some videos. We kept trying to write and debug the program for a long time in order to get the result. Another problem we met was pickling the data. There were several details in the code that needed to be revised because we are downloading the texts from a url. A problem associated with inputting the url is that we need to use different code to process the data. Throughout the process we learnt that the best way to figure out the answers to the problems we met while coding is to keep writing and debugging. There are still several things we could have improved for the assignment. We implemented sentiment analysis on the two books we picked. However, this is not accurate enough for this case because sentiment analysis fits better for the reviews on social media. In addition, the list of stopwords we used is not comprehensive. There are still some other words that should be excluded from the similarity analysis. In terms of team process, we planned to work on the code together with a meeting on WebEx because we found it was better for learning and solving problems. We splitted the work for the writeup to make it more efficient. The team process went extremely well for us. 

